# Техническое задание  
## на разработку ролевой игры «Клятва и Слава»

**Жанр:** ролевая игра (RPG)  
**Сеттинг:** позднее средневековье, реалистичный низкофэнтезийный мир без магии  
**Особенность проекта:** динамическая система репутации, влияющая на отношение мира и персонажей к действиям игрока  
**Автор:** Екатерина  
**Версия документа:** 1.1  
**Платформа:** персональные компьютеры (Windows)

## 1. Цели и границы проекта
Данный раздел определяет основные задачи и ограничения проекта.  
Цель проекта — разработка масштабной ролевой игры длительного прохождения, рассчитанной на **70–100 часов игрового времени**.  
Игра предназначена для однопользовательского режима и строится вокруг системы репутации, определяющей последствия каждого поступка игрока.  

Основная идея — создание реалистичного мира, где персонажи, фракции и города реагируют на действия героя: помощь, преступления, предательство, благотворительность и т.д.  

**В рамки проекта не входят:**  
- многопользовательские и сетевые режимы  
- элементы магии или сверхъестественных способностей  
- процедурная генерация мира

## 2. Термины и допущения
В разделе описаны ключевые термины, используемые в проекте, и принятые допущения.  
Это необходимо для единообразного понимания документа всеми участниками разработки.

| Термин | Определение |
|--------|--------------|
| **Репутация** | показатель отношения мира и персонажей к игроку, изменяющийся в зависимости от его действий |
| **Фракция** | объединение NPC с общими интересами и целями (Корона, Гильдия, Церковь, Разбойники) |
| **Локальная репутация** | отношение жителей конкретного региона или города к игроку |
| **Фракционная репутация** | уровень доверия или враждебности определённой организации к игроку |
| **Персональная репутация** | отношение ключевых персонажей (наместник, настоятель, глава гильдии) к игроку |
| **Свидетель** | персонаж, который видит или слышит действие игрока |
| **Слухи** | распространение информации о действиях игрока между NPC, даже если они не были свидетелями события |

## 3. Целевая аудитория и платформы
В разделе указаны основные пользователи и технические условия запуска игры.  
Программный продукт предназначен для пользователей 16–35 лет, интересующихся историческими и социально-ориентированными RPG, где решения имеют последствия.  

Средняя продолжительность полного прохождения составляет **от 70 до 100 часов**, включая основную сюжетную линию, побочные задания и исследование мира.  

Игра создаётся для персональных компьютеров с ОС Windows; управление — клавиатура и мышь.

## 4. Игровая петля
Данный раздел описывает базовую структуру игрового процесса и циклы активности игрока.  
Игровая петля отражает повторяющиеся действия и динамику взаимодействия с миром.  
Выделяются три уровня активности:

- **Микроуровень** — непосредственные действия: исследование, бой, торговля, общение, кражи  
- **Средний уровень** — развитие персонажа, выполнение заданий, взаимодействие с фракциями  
- **Макроуровень** — стратегические решения, влияющие на глобальную репутацию и финал истории

### 4.1. Игровая петля по действиям
В таблице показаны типовые действия игрока и ожидаемые результаты на каждом уровне.

| Уровень | Основные действия | Результат |
|----------|------------------|------------|
| Микро | Бой, исследование, торговля, общение | Изменение локальной и персональной репутации |
| Средний | Квесты, выбор фракции, улучшение навыков | Изменение фракционной репутации |
| Макро | Политические решения, финальные выборы | Влияние на глобальную репутацию и состояние мира |

## 5. Игровые системы
Раздел описывает функциональные подсистемы, обеспечивающие работу проекта.

- **Характеристики** — сила, ловкость, рассудок, харизма  
- **Навыки** — бой, торговля, скрытность, ремесло, риторика  
- **Боевая система** — реалистичные ближние и дальние сражения  
- **Экономика** — торговля, покупка, продажа, влияние репутации на цены  
- **Закон и порядок** — фиксация преступлений, розыск, аресты, штрафы  
- **Инвентарь** — оружие, броня, продукты, ресурсы, квестовые предметы и документы

## 6. Система репутации
В этом разделе описывается ключевая механика проекта — система репутации, которая формирует отношение мира к игроку.  
Она представляет совокупность взаимосвязанных показателей, отражающих общественную реакцию на поступки персонажа.

**Виды репутации:**  
глобальная, фракционная, локальная, персональная  

**Принципы работы:**  
1. Репутация изменяется при наличии свидетелей или распространении слухов  
2. Закон и репутация независимы: штраф снимает наказание, но не восстанавливает доверие  
3. Повторяющиеся действия со временем теряют влияние  
4. Репутация может снижаться или восстанавливаться  
5. Персональная репутация влияет на уникальные диалоги и сюжетные линии

## 7. Мировое устройство и контент
Раздел содержит описание мира, регионов и фракций, действующих в игровом пространстве.  
Мир — **Королевство Альбрек**, включающее три области:  
1. **Эдгем** — столица, административный и торговый центр  
2. **Глендэйл** — промышленный город с Гильдией торговцев  
3. **Бримвуд** — лесная провинция с лагерями разбойников  

**Фракции:**

| Фракция | Ценности | Союзники | Противники |
|----------|-----------|-----------|-------------|
| Корона | порядок, закон | Церковь | Разбойники |
| Гильдия торговцев | прибыль, стабильность | Корона | Разбойники |
| Церковь Пламенника | вера, мораль | Корона | Разбойники |
| Разбойники Бримвуда | свобода, сила | — | Корона, Гильдия |
| Жители | безопасность | Гильдия | Разбойники |

## 8. Примеры квестов и сценариев
В данном разделе приведены примеры сюжетных ситуаций, отражающих влияние репутации на игровой процесс.  

- **Мост через Бримвуд** — помочь восстановить мост или сорвать строительство  
- **Чужие кошельки** — кража у ростовщика: свидетели — потеря репутации; без свидетелей — слухи  
- **Серые монахи** — защита монастыря повышает доверие Церкви  
- **Верность короне** — выбор между Короном и Разбойниками  
- **Финал** — исход истории зависит от совокупной репутации

## 9. Интерфейс и взаимодействие
В разделе указаны основные элементы пользовательского интерфейса и способы взаимодействия с системой.  

Интерфейс должен обеспечивать:  
- просмотр характеристик и репутации  
- управление инвентарём (осмотр, экипировка, сортировка, использование)  
- уведомления об изменениях репутации  
- доступ к журналу заданий и логу событий  

Цветовые индикаторы: зелёный — уважение, серый — нейтралитет, красный — враждебность

## 10. Функциональные требования
Раздел определяет основные функциональные возможности разрабатываемого продукта.  

Система должна обеспечивать выполнение следующих функций:  
1. **Управление репутацией** — фиксация действий игрока, изменение всех типов репутации, учёт свидетелей и слухов  
2. **Реакция мира и NPC** — изменение поведения, доступности квестов и диалогов в зависимости от репутации  
3. **Экономика и торговля** — динамические цены, операции купли-продажи, влияние репутации на скидки  
4. **Закон и безопасность** — фиксация преступлений, розыск, назначение наказаний  
5. **Сохранение данных** — автоматическое сохранение и восстановление состояния игрока

## 11. Тестирование системы репутации
Раздел описывает процедуры проверки корректности работы системы репутации.  
Тестирование проводится для выявления логических ошибок и оценки реакции мира на действия игрока.  

Проверяется корректность изменения и отображения репутации при различных действиях:  
- кража без свидетелей — репутация не меняется  
- нападение при свидетелях — снижение локальной репутации и начало розыска  
- помощь жителям — повышение локальной репутации  
- поддержка фракции — изменение отношений союзников и противников  

Дополнительно тестируются:  
- реакция NPC  
- интерфейс репутации  
- корректность сохранений

## 12. Риски проекта
Раздел предназначен для выявления потенциальных проблем разработки и путей их минимизации.  

1. Сложность реализации логики NPC (искусственный интеллект)  
2. Необходимость балансировки системы репутации  
3. Риск перегрузки интерфейса уведомлениями

## 13. Приложения
В данном разделе собраны вспомогательные материалы, обеспечивающие наглядность и детализацию проектных решений.  

### 13.1. Таблица игровых действий и последствий (по уровням петли)
Ниже представлена сводная таблица, показывающая взаимосвязь игровых действий с изменением репутации на разных уровнях.

| Уровень | Действие игрока | Последствие | Влияние на репутацию / мир |
|----------|------------------|--------------|-----------------------------|
| **Микро** | Исследование территорий, сбор предметов | Получение ресурсов, открытие локаций | Незначительное повышение локальной репутации |
| **Микро** | Торговля с NPC | Изменение ассортимента и цен | Повышение / понижение фракционной репутации (Гильдия) |
| **Микро** | Кража, нападение, шантаж | Розыск, штраф, потеря доверия | Снижение локальной и персональной репутации |
| **Микро** | Помощь жителям, благотворительность | Благодарность, положительное отношение | Повышение локальной и персональной репутации |
| **Микро** | Победа в дуэли или бою | Уважение воинов | Незначительное повышение глобальной репутации |
| **Средний** | Выполнение квестов | Развитие сюжета, награды | Изменение фракционной и локальной репутации |
| **Средний** | Выбор фракции | Вражда с противниками выбранной стороны | Существенное изменение фракционной репутации |
| **Средний** | Повышение характеристик, навыков | Открытие новых возможностей | Влияние на персональную репутацию |
| **Средний** | Участие в переговорах и конфликтах | Изменение политического положения | Коррекция фракционной и локальной репутации |
| **Средний** | Торгово-экономическая деятельность | Изменение цен и доверия | Влияние на Гильдию и экономику региона |
| **Макро** | Принятие глобальных решений | Изменение состояния фракций и городов | Изменение глобальной репутации |
| **Макро** | Поддержка или свержение власти | Изменение политической структуры мира | Пересчёт глобальной и фракционной репутации |
| **Макро** | Союз или предательство фракции | Блокировка / открытие сюжетных ветвей | Радикальное изменение фракционной репутации |
| **Макро** | Влияние на экономику страны | Изменение цен и настроений населения | Влияние на глобальную и локальную репутацию |
| **Макро** | Финальные решения (мир / война) | Определение концовки игры | Итоговое значение всех типов репутации |
